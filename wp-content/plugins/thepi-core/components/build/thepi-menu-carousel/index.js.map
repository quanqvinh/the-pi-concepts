{"version":3,"file":"thepi-menu-carousel/index.js","mappings":"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;;;;ACAA,4C;;;;;;;;;;ACAA,iC;;;;;;;;;;ACAA,2C;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WCzBA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA,kBAAkB,qBAAqB;WACvC;WACA;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,E;;;;;WC3BA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA,E;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA,E;;;;;WCPA,wF;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D,E;;;;;WCNA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA,4G;;;;;UEjDA;UACA;UACA;UACA;UACA","sources":["webpack://thepi-components/./src/thepi-menu-carousel/edit.js","webpack://thepi-components/./src/thepi-menu-carousel/index.js","webpack://thepi-components/./src/thepi-menu-carousel/style.scss?f9cd","webpack://thepi-components/external window [\"wp\",\"blockEditor\"]","webpack://thepi-components/external window [\"wp\",\"blocks\"]","webpack://thepi-components/external window [\"wp\",\"components\"]","webpack://thepi-components/external window \"React\"","webpack://thepi-components/external window \"ReactJSXRuntime\"","webpack://thepi-components/webpack/bootstrap","webpack://thepi-components/webpack/runtime/chunk loaded","webpack://thepi-components/webpack/runtime/compat get default export","webpack://thepi-components/webpack/runtime/define property getters","webpack://thepi-components/webpack/runtime/hasOwnProperty shorthand","webpack://thepi-components/webpack/runtime/make namespace object","webpack://thepi-components/webpack/runtime/jsonp chunk loading","webpack://thepi-components/webpack/before-startup","webpack://thepi-components/webpack/startup","webpack://thepi-components/webpack/after-startup"],"sourcesContent":["import {\n\tInspectorControls,\n\tuseBlockProps,\n\tMediaUpload,\n\tMediaUploadCheck,\n} from \"@wordpress/block-editor\";\nimport {\n\tPanelBody,\n\tButton,\n\tIconButton,\n\tTextControl,\n} from \"@wordpress/components\";\nimport { useEffect, useRef } from \"react\";\n\nexport default function Edit({ attributes, setAttributes }) {\n\tconst blockProps = useBlockProps({\n\t\tclassName: \"thepi-menu-carousel\",\n\t});\n\n\t// Use block attribute for images, fallback to empty array\n\tconst images = attributes.images || [];\n\n\t// Helper to update a single image at index\n\tconst updateImage = (index, media) => {\n\t\tconst newImages = [...images];\n\t\tnewImages[index] = {\n\t\t\turl: media?.url || \"\",\n\t\t\tname: media?.title || media?.filename || \"\",\n\t\t\talt: media?.alt || \"\",\n\t\t};\n\t\tsetAttributes({ images: newImages });\n\t};\n\n\t// Helper to update image alt or name at index\n\tconst updateImageField = (index, field, value) => {\n\t\tconst newImages = [...images];\n\t\tnewImages[index] = {\n\t\t\t...(newImages[index] || {}),\n\t\t\t[field]: value,\n\t\t};\n\t\tsetAttributes({ images: newImages });\n\t};\n\n\t// Helper to add a new image slot\n\tconst addImage = () => {\n\t\tconst newImages = [...images, { url: \"\", name: \"\", alt: \"\" }];\n\t\tsetAttributes({ images: newImages });\n\t};\n\n\t// Helper to remove an image slot\n\tconst removeImage = (index) => {\n\t\tconst newImages = images.filter((_, i) => i !== index);\n\t\tsetAttributes({ images: newImages });\n\t};\n\n\tconst carouselRef = useRef(null);\n\n\t// Parse aspect ratio string (e.g. \"12/13\") to a CSS calc() value\n\tconst getAspectRatioPadding = () => {\n\t\tconst aspectRatio = attributes.aspectRatio || \"12/13\";\n\t\tconst [w, h] = aspectRatio.split(\"/\").map(Number);\n\t\tif (!w || !h) return \"calc(100% * 13 / 12)\";\n\t\treturn `calc(100% * ${h} / ${w})`;\n\t};\n\n\tfunction addMenuCarouselBehaviour() {\n\t\tif (!carouselRef.current) return;\n\t\tvar carousel = carouselRef.current;\n\t\tvar slides = carousel.querySelectorAll(\".thepi-menu-carousel__slide\");\n\t\tvar current = 0;\n\n\t\tfunction showSlide(idx) {\n\t\t\tslides.forEach(function (slide, i) {\n\t\t\t\tif (i === idx) {\n\t\t\t\t\tslide.classList.add(\"active\");\n\t\t\t\t} else {\n\t\t\t\t\tslide.classList.remove(\"active\");\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tshowSlide(current);\n\n\t\tif (slides.length) {\n\t\t\tvar prevBtn = carousel.querySelector(\".thepi-menu-carousel__prev\");\n\t\t\tvar nextBtn = carousel.querySelector(\".thepi-menu-carousel__next\");\n\t\t\tif (prevBtn && nextBtn) {\n\t\t\t\tprevBtn.addEventListener(\"click\", prevHandler);\n\t\t\t\tnextBtn.addEventListener(\"click\", nextHandler);\n\t\t\t}\n\t\t}\n\n\t\tfunction prevHandler() {\n\t\t\tcurrent = (current - 1 + slides.length) % slides.length;\n\t\t\tshowSlide(current);\n\t\t}\n\t\tfunction nextHandler() {\n\t\t\tcurrent = (current + 1) % slides.length;\n\t\t\tshowSlide(current);\n\t\t}\n\n\t\t// Cleanup function to remove event listeners\n\t\treturn () => {\n\t\t\tif (slides.length) {\n\t\t\t\tvar prevBtn = carousel.querySelector(\".thepi-menu-carousel__prev\");\n\t\t\t\tvar nextBtn = carousel.querySelector(\".thepi-menu-carousel__next\");\n\t\t\t\tif (prevBtn && nextBtn) {\n\t\t\t\t\tprevBtn.removeEventListener(\"click\", prevHandler);\n\t\t\t\t\tnextBtn.removeEventListener(\"click\", nextHandler);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\n\tuseEffect(() => {\n\t\tconst cleanup = addMenuCarouselBehaviour();\n\t\treturn () => {\n\t\t\tif (typeof cleanup === \"function\") cleanup();\n\t\t};\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [images, attributes.aspectRatio]);\n\n\treturn (\n\t\t<div {...blockProps}>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title=\"Menu Carousel Images\" initialOpen={true}>\n\t\t\t\t\t{images.length === 0 && (\n\t\t\t\t\t\t<div style={{ marginBottom: \"1em\" }}>No images selected.</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{images.map((imageObj, index) => {\n\t\t\t\t\t\tconst imageUrl = imageObj?.url || \"\";\n\t\t\t\t\t\tconst imageName = imageObj?.name || \"\";\n\t\t\t\t\t\tconst imageAlt = imageObj?.alt || \"\";\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\tclassName=\"menu-image-input-item\"\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\t\t\talignItems: \"flex-start\",\n\t\t\t\t\t\t\t\t\tmarginBottom: \"0.75em\",\n\t\t\t\t\t\t\t\t\tgap: \"4px\",\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<MediaUploadCheck>\n\t\t\t\t\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\t\t\t\t\tonSelect={(media) => updateImage(index, media)}\n\t\t\t\t\t\t\t\t\t\tallowedTypes={[\"image\"]}\n\t\t\t\t\t\t\t\t\t\tvalue={imageUrl}\n\t\t\t\t\t\t\t\t\t\trender={({ open }) => (\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={open}\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\tpadding: 0,\n\t\t\t\t\t\t\t\t\t\t\t\t\tborder: \"none\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackground: \"none\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tmarginRight: \"0.5em\",\n\t\t\t\t\t\t\t\t\t\t\t\t\theight: \"auto\",\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"menu-image-button\"\n\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"Select image\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{imageUrl ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={imageUrl}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={imageAlt}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 48,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: 48,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tobjectFit: \"cover\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tborder: \"1px solid #ccc\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderRadius: 4,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 48,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: 48,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tjustifyContent: \"center\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackground: \"#f0f0f0\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tborder: \"1px solid #ccc\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderRadius: 4,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: \"#888\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: 12,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tSelect\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</MediaUploadCheck>\n\t\t\t\t\t\t\t\t<div style={{ flex: 1, marginRight: \"0.5em\" }}>\n\t\t\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\t\t\tlabel=\"Image Name\"\n\t\t\t\t\t\t\t\t\t\tvalue={imageName}\n\t\t\t\t\t\t\t\t\t\tonChange={(val) => updateImageField(index, \"name\", val)}\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Image name\"\n\t\t\t\t\t\t\t\t\t\tstyle={{ marginBottom: 4 }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\t\t\tlabel=\"Alt Text\"\n\t\t\t\t\t\t\t\t\t\tvalue={imageAlt}\n\t\t\t\t\t\t\t\t\t\tonChange={(val) => updateImageField(index, \"alt\", val)}\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Image alt text\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\ticon=\"no-alt\"\n\t\t\t\t\t\t\t\t\tlabel=\"Remove image\"\n\t\t\t\t\t\t\t\t\tonClick={() => removeImage(index)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t\t<Button isSecondary onClick={addImage} icon=\"plus\">\n\t\t\t\t\t\tAdd Image\n\t\t\t\t\t</Button>\n\t\t\t\t</PanelBody>\n\t\t\t\t<PanelBody title=\"Carousel Settings\" initialOpen={true}>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel=\"Aspect Ratio\"\n\t\t\t\t\t\thelp=\"Format: width/height (e.g. 12/13)\"\n\t\t\t\t\t\tvalue={attributes.aspectRatio || \"\"}\n\t\t\t\t\t\tonChange={(val) => setAttributes({ aspectRatio: val })}\n\t\t\t\t\t\tplaceholder=\"12/13\"\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<div\n\t\t\t\tref={carouselRef}\n\t\t\t\tclassName=\"thepi-menu-carousel__container\"\n\t\t\t\tstyle={{\n\t\t\t\t\tpaddingTop: getAspectRatioPadding(),\n\t\t\t\t\ttransition: \"padding-top 0.2s\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div className=\"thepi-menu-carousel__slides\">\n\t\t\t\t\t{images &&\n\t\t\t\t\t\timages.length > 0 &&\n\t\t\t\t\t\timages.map((imageObj, idx) =>\n\t\t\t\t\t\t\timageObj?.url ? (\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\t\tsrc={imageObj.url}\n\t\t\t\t\t\t\t\t\talt={imageObj.alt || \"\"}\n\t\t\t\t\t\t\t\t\ttitle={imageObj.name || \"\"}\n\t\t\t\t\t\t\t\t\tclassName={`thepi-menu-carousel__slide ${\n\t\t\t\t\t\t\t\t\t\tidx === 0 ? \"active\" : \"\"\n\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\tdata-carousel-index={idx}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : null,\n\t\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t{images?.length > 0 && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"thepi-menu-carousel__prev\"\n\t\t\t\t\t\t></button>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"thepi-menu-carousel__next\"\n\t\t\t\t\t\t></button>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","/**\n * Registers a new block provided a unique name and an object defining its behavior.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-registration/\n */\nimport { registerBlockType } from \"@wordpress/blocks\";\n\n/**\n * Lets webpack process CSS, SASS or SCSS files referenced in JavaScript files.\n * All files containing `style` keyword are bundled together. The code used\n * gets applied both to the front of your site and to the editor.\n *\n * @see https://www.npmjs.com/package/@wordpress/scripts#using-css\n */\nimport \"./style.scss\";\n\n/**\n * Internal dependencies\n */\nimport Edit from \"./edit\";\nimport metadata from \"./block.json\";\n\n/**\n * Every block starts by registering a new block type definition.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-registration/\n */\nregisterBlockType(metadata.name, {\n\t/**\n\t * @see ./edit.js\n\t */\n\tedit: Edit,\n});\n","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"React\"];","module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"thepi-menu-carousel/index\": 0,\n\t\"thepi-menu-carousel/style-index\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = globalThis[\"webpackChunkthepi_components\"] = globalThis[\"webpackChunkthepi_components\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"thepi-menu-carousel/style-index\"], () => (__webpack_require__(\"./src/thepi-menu-carousel/index.js\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["InspectorControls","useBlockProps","MediaUpload","MediaUploadCheck","PanelBody","Button","IconButton","TextControl","useEffect","useRef","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Edit","attributes","setAttributes","blockProps","className","images","updateImage","index","media","newImages","url","name","title","filename","alt","updateImageField","field","value","addImage","removeImage","filter","_","i","carouselRef","getAspectRatioPadding","aspectRatio","w","h","split","map","Number","addMenuCarouselBehaviour","current","carousel","slides","querySelectorAll","showSlide","idx","forEach","slide","classList","add","remove","length","prevBtn","querySelector","nextBtn","addEventListener","prevHandler","nextHandler","removeEventListener","cleanup","children","initialOpen","style","marginBottom","imageObj","imageUrl","imageName","imageAlt","display","alignItems","gap","onSelect","allowedTypes","render","open","onClick","padding","border","background","marginRight","height","src","width","objectFit","borderRadius","justifyContent","color","fontSize","flex","label","onChange","val","placeholder","icon","isSecondary","help","ref","paddingTop","transition","type","registerBlockType","metadata","edit"],"sourceRoot":""}